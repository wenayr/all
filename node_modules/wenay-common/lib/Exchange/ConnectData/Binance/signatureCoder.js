"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSignatureFuncF = getSignatureFuncF;
function getSignatureFuncF(data) {
    return function (q, apiSecret) {
        const query = Object.keys(q)
            .reduce((a, k) => {
            const o = q[k];
            if (Array.isArray(o)) {
                o.forEach(v => {
                    a.push(k + "=" + encodeURIComponent(v));
                });
            }
            else if (o !== undefined) {
                a.push(k + "=" + encodeURIComponent(o));
            }
            return a;
        }, [])
            .join("&");
        return data.createHmac('sha256', apiSecret).update(query).digest('hex');
    };
}
