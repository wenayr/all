import es,{Component as ts}from"react";import Je,{forwardRef as ss,useCallback as Ke,useContext as rs,useEffect as ns,useImperativeHandle as os,useMemo as qe,useRef as se,useState as ke}from"react";import{BaseComponentWrapper as as,GridCoreCreator as cs,VanillaFrameworkOverrides as is,_combineAttributesAndGridOptions as ls,_getGlobalGridOption as us,_getGridRegisteredModules as ds,_isClientSideRowModel as ps,_isServerSideRowModel as ms,_observeResize as hs,_processOnChange as fs,_warn as Cs}from"ag-grid-community";import ue,{forwardRef as gs,useCallback as ys,useContext as vs,useImperativeHandle as ws,useLayoutEffect as Rs,useMemo as Qe,useRef as Fe,useState as Ce}from"react";import{_escapeString as Es}from"ag-grid-community";import bs from"react";var Y=bs.createContext({}),We=(e,t,s,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const i=e.newAgStackInstance();let c,o,l=!1;return i.then(a=>{if(l){t.destroyBean(a);return}c=a,o=c.getGui(),s.appendChild(o),Ft(n,c)}),()=>{l=!0,c&&(o?.parentElement?.removeChild(o),t.destroyBean(c),n&&Ft(n,void 0))}},Ft=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const s=e;s.current=t}};import Ss from"react";import Ps from"react-dom";var re=(...e)=>e.filter(s=>s!=null&&s!=="").join(" "),ne=class Yt{constructor(...t){this.classesMap={},t.forEach(s=>{this.classesMap[s]=!0})}setClass(t,s){if(!!this.classesMap[t]==s)return this;const r=new Yt;return r.classesMap={...this.classesMap},r.classesMap[t]=s,r}toString(){return Object.keys(this.classesMap).filter(s=>this.classesMap[s]).join(" ")}},Me=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,s=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===s()},pt=Ss.version?.split(".")[0],ks=pt==="16"||pt==="17";function Fs(){return pt==="19"}var Ye=!1;function Ms(e){return Ye||setTimeout(()=>Ye=!1,0),Ye=!0,e()}var Ze=(e,t)=>{!ks&&e&&!Ye?Ps.flushSync(t):t()};function Xe(e,t,s){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(s||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],r=[],i=new Map,c=new Map;for(let o=0;o<t.length;o++){const l=t[o];c.set(l.instanceId,l)}for(let o=0;o<e.length;o++){const l=e[o];i.set(l.instanceId,l),c.has(l.instanceId)&&n.push(l)}for(let o=0;o<t.length;o++){const l=t[o],a=l.instanceId;i.has(a)||r.push(l)}return n.length===e.length&&r.length===0?e:n.length===0&&r.length===t.length?t:n.length===0?r:r.length===0?n:[...n,...r]}var Mt=gs((e,t)=>{const{registry:s,context:n}=vs(Y),r=Fe(null),i=Fe(null),c=Fe(null),o=Fe(null),l=Fe(null),a=Fe(),[m,E]=Ce(),[h,u]=Ce(),[v,C]=Ce(),[p,d]=Ce(()=>new ne),[w,P]=Ce(()=>new ne("ag-hidden")),[b,R]=Ce(()=>new ne("ag-hidden")),[B,I]=Ce(()=>new ne("ag-invisible"));ws(t,()=>({refresh(){return!1}})),Rs(()=>We(m,n,i.current),[m]);const N=ys(U=>{if(r.current=U,!U){a.current=n.destroyBean(a.current);return}const f={setInnerRenderer:(k,D)=>{E(k),C(D)},setChildCount:k=>u(k),addOrRemoveCssClass:(k,D)=>d(j=>j.setClass(k,D)),setContractedDisplayed:k=>R(D=>D.setClass("ag-hidden",!k)),setExpandedDisplayed:k=>P(D=>D.setClass("ag-hidden",!k)),setCheckboxVisible:k=>I(D=>D.setClass("ag-invisible",!k))},W=s.createDynamicBean("groupCellRendererCtrl",!0);W&&(a.current=n.createBean(W),a.current.init(f,U,c.current,o.current,l.current,Mt,e))},[]),x=Qe(()=>`ag-cell-wrapper ${p.toString()}`,[p]),g=Qe(()=>`ag-group-expanded ${w.toString()}`,[w]),S=Qe(()=>`ag-group-contracted ${b.toString()}`,[b]),M=Qe(()=>`ag-group-checkbox ${B.toString()}`,[B]),y=m&&m.componentFromFramework,H=y?m.componentClass:void 0,F=m==null&&v!=null,T=Es(v,!0);return ue.createElement("span",{className:x,ref:N,...e.colDef?{}:{role:a.current?.getCellAriaRole()}},ue.createElement("span",{className:g,ref:o}),ue.createElement("span",{className:S,ref:l}),ue.createElement("span",{className:M,ref:c}),ue.createElement("span",{className:"ag-group-value",ref:i},F&&ue.createElement(ue.Fragment,null,T),y&&ue.createElement(H,{...m.params})),ue.createElement("span",{className:"ag-group-child-count"},h))}),xt=Mt;import{AgPromise as mt}from"ag-grid-community";import Bt,{memo as xs,useEffect as Bs,useState as Gs}from"react";import{createContext as As}from"react";var Te=As({setMethods:()=>{}}),Ds=e=>{const{initialProps:t,addUpdateCallback:s,CustomComponentClass:n,setMethods:r}=e,[{key:i,...c},o]=Gs(t);return Bs(()=>{s(l=>o(l))},[]),Bt.createElement(Te.Provider,{value:{setMethods:r}},Bt.createElement(n,{key:i,...c}))},Is=xs(Ds);import{createElement as Os}from"react";import{createPortal as Ws}from"react-dom";import{AgPromise as ht}from"ag-grid-community";var Ts=0;function Gt(){return`agPortalKey_${++Ts}`}var At=class{constructor(e,t,s,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=s,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Gt(),this.portalKey=Gt(),this.instanceCreated=this.isStatelessComponent()?ht.resolve(!1):new ht(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),s=document.createElement(t||"div");return s.classList.add("ag-react-container"),e.reactContainer=s,s}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const s=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!s){setTimeout(()=>this.callMethod(e,t));return}const n=s[e];if(n)return n.apply(s,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ht(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Ws(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return Os(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const s=this[`${e}Component`];if(!this.suppressFallbackMethods&&s)return s.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function ft(e,t,s){e.forEach(n=>{const r=t[n];r&&(s[n]=r)})}var oe=class extends At{constructor(){super(...arguments),this.awaitUpdateCallback=new mt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Is}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:s=>this.setMethods(s),addUpdateCallback:s=>{this.updateCallback=()=>(s(this.getProps()),new mt(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ft(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new mt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Ns=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Hs=class extends oe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Us=class extends oe{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:s,shake:n}=this;return e.label=t,e.icon=s,e.shake=n,e}};import{AgPromise as _s}from"ag-grid-community";var Vs=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new _s(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};import{AgPromise as Ls}from"ag-grid-community";function Dt(e,t){e.parentFilterInstance(s=>{(s.setModel(t)||Ls.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var js=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=s=>this.updateModel(s)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ft(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Dt(this.floatingFilterParams,e)}},zs=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Dt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},$s=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Js=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},Ks=class extends oe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},qs=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},Qs=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ys=class extends oe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};import{AgPromise as Zs,_warn as Xs}from"ag-grid-community";function er(e,t){(e?.getInstance?.()??Zs.resolve(void 0)).then(n=>t(n))}function et(){Xs(231)}var tr=1e3,sr=class{constructor(e,t,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=s||tr}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,s){this.portals=[...this.portals,e],this.waitForInstance(t,s),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,s=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,s)})}}};import Ne,{memo as rr,useCallback as tt,useEffect as nr,useMemo as st,useRef as xe,useState as ge}from"react";import{GridCtrl as or}from"ag-grid-community";import He,{memo as ar,useCallback as cr,useContext as ir,useMemo as ae,useRef as ie,useState as Z}from"react";import{CssClassManager as lr,FakeHScrollComp as ur,FakeVScrollComp as dr,GridBodyCtrl as pr,_observeResize as mr,_setAriaColCount as hr,_setAriaRowCount as fr}from"ag-grid-community";import rt,{memo as Cr,useCallback as gr,useContext as yr,useMemo as It,useRef as Ot,useState as Wt}from"react";import{GridHeaderCtrl as vr}from"ag-grid-community";import ye,{memo as wr,useCallback as Rr,useContext as Er,useRef as Ct,useState as Tt}from"react";import{HeaderRowContainerCtrl as br}from"ag-grid-community";import nt,{memo as Sr,useCallback as Nt,useContext as Pr,useMemo as Ht,useRef as ot,useState as gt}from"react";import{_EmptyBean as kr}from"ag-grid-community";import Ue,{memo as Fr,useCallback as Mr,useContext as xr,useEffect as Br,useLayoutEffect as Gr,useMemo as Ar,useRef as Be,useState as Ut}from"react";import{CssClassManager as Dr,_EmptyBean as Ir,_removeAriaSort as Or,_setAriaSort as Wr}from"ag-grid-community";var Tr=({ctrl:e})=>{const t=e.isAlive(),{context:s}=xr(Y),n=t?e.column.getColId():void 0,[r,i]=Ut(),[c,o]=Ut(),l=Be(),a=Be(null),m=Be(null),E=Be(null),h=Be(),u=Be();t&&!u.current&&(u.current=new Dr(()=>a.current));const v=Mr(w=>{if(a.current=w,l.current=w?s.createBean(new Ir):s.destroyBean(l.current),!w||!t)return;const P={setWidth:R=>{a.current&&(a.current.style.width=R)},addOrRemoveCssClass:(R,B)=>u.current.addOrRemoveCssClass(R,B),setUserStyles:R=>o(R),setAriaSort:R=>{a.current&&(R?Wr(a.current,R):Or(a.current))},setUserCompDetails:R=>i(R),getUserCompInstance:()=>h.current||void 0};e.setComp(P,w,m.current,E.current,l.current);const b=e.getSelectAllGui();b&&(m.current?.insertAdjacentElement("afterend",b),l.current.addDestroyFunc(()=>b.remove()))},[]);Gr(()=>We(r,s,E.current,h),[r]),Br(()=>{e.setDragSource(a.current)},[r]);const C=Ar(()=>!!(r?.componentFromFramework&&Me(r.componentClass)),[r]),p=r&&r.componentFromFramework,d=r&&r.componentClass;return Ue.createElement("div",{ref:v,style:c,className:"ag-header-cell","col-id":n,role:"columnheader"},Ue.createElement("div",{ref:m,className:"ag-header-cell-resize",role:"presentation"}),Ue.createElement("div",{ref:E,className:"ag-header-cell-comp-wrapper",role:"presentation"},p&&C&&Ue.createElement(d,{...r.params}),p&&!C&&Ue.createElement(d,{...r.params,ref:h})))},Nr=Fr(Tr);import ve,{memo as Hr,useCallback as Ur,useContext as _r,useLayoutEffect as Vr,useMemo as Ge,useRef as we,useState as Re}from"react";import{AgPromise as Lr,_EmptyBean as jr}from"ag-grid-community";var zr=({ctrl:e})=>{const{context:t,gos:s}=_r(Y),[n,r]=Re(),[i,c]=Re(()=>new ne("ag-header-cell","ag-floating-filter")),[o,l]=Re(()=>new ne),[a,m]=Re(()=>new ne("ag-floating-filter-button","ag-hidden")),[E,h]=Re("false"),[u,v]=Re(),[,C]=Re(1),p=we(),d=we(null),w=we(null),P=we(null),b=we(null),R=we(),B=we(),I=f=>{f!=null&&R.current&&R.current(f)},N=Ur(f=>{if(d.current=f,p.current=f?t.createBean(new jr):t.destroyBean(p.current),!f)return;B.current=new Lr(k=>{R.current=k});const W={addOrRemoveCssClass:(k,D)=>c(j=>j.setClass(k,D)),setUserStyles:k=>r(k),addOrRemoveBodyCssClass:(k,D)=>l(j=>j.setClass(k,D)),setButtonWrapperDisplayed:k=>{m(D=>D.setClass("ag-hidden",!k)),h(k?"false":"true")},setWidth:k=>{d.current&&(d.current.style.width=k)},setCompDetails:k=>v(k),getFloatingFilterComp:()=>B.current?B.current:null,setMenuIcon:k=>b.current?.appendChild(k)};e.setComp(W,f,b.current,w.current,p.current)},[]);Vr(()=>We(u,t,w.current,I),[u]);const x=Ge(()=>i.toString(),[i]),g=Ge(()=>o.toString(),[o]),S=Ge(()=>a.toString(),[a]),M=Ge(()=>!!(u&&u.componentFromFramework&&Me(u.componentClass)),[u]),y=Ge(()=>s.get("reactiveCustomComponents"),[]),H=Ge(()=>{if(u)if(y){const f=new js(u.params,()=>C(W=>W+1));return I(f),f}else u.componentFromFramework&&et()},[u]),F=H?.getProps(),T=u&&u.componentFromFramework,U=u&&u.componentClass;return ve.createElement("div",{ref:N,style:n,className:x,role:"gridcell"},ve.createElement("div",{ref:w,className:g,role:"presentation"},T&&!y&&ve.createElement(U,{...u.params,ref:M?()=>{}:I}),T&&y&&ve.createElement(Te.Provider,{value:{setMethods:f=>H.setMethods(f)}},ve.createElement(U,{...F}))),ve.createElement("div",{ref:P,"aria-hidden":E,className:S,role:"presentation"},ve.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},$r=Hr(zr);import _e,{memo as Jr,useCallback as Kr,useContext as qr,useEffect as Qr,useLayoutEffect as Yr,useMemo as at,useRef as Ve,useState as Ae}from"react";import{_EmptyBean as Zr}from"ag-grid-community";var Xr=({ctrl:e})=>{const{context:t}=qr(Y),[s,n]=Ae(),[r,i]=Ae(()=>new ne),[c,o]=Ae(()=>new ne),[l,a]=Ae("false"),[m,E]=Ae(),[h,u]=Ae(),v=at(()=>e.column.getUniqueId(),[]),C=Ve(),p=Ve(null),d=Ve(null),w=Ve(null),P=Ve(),b=Kr(g=>{if(p.current=g,C.current=g?t.createBean(new Zr):t.destroyBean(C.current),!g)return;const S={setWidth:M=>{p.current&&(p.current.style.width=M)},addOrRemoveCssClass:(M,y)=>i(H=>H.setClass(M,y)),setUserStyles:M=>n(M),setHeaderWrapperHidden:M=>{const y=w.current;y&&(M?y.style.setProperty("display","none"):y.style.removeProperty("display"))},setHeaderWrapperMaxHeight:M=>{const y=w.current;y&&(M!=null?y.style.setProperty("max-height",`${M}px`):y.style.removeProperty("max-height"),y.classList.toggle("ag-header-cell-comp-wrapper-limited-height",M!=null))},setUserCompDetails:M=>u(M),setResizableDisplayed:M=>{o(y=>y.setClass("ag-hidden",!M)),a(M?"false":"true")},setAriaExpanded:M=>E(M),getUserCompInstance:()=>P.current||void 0};e.setComp(S,g,d.current,w.current,C.current)},[]);Yr(()=>We(h,t,w.current),[h]),Qr(()=>{p.current&&e.setDragSource(p.current)},[h]);const R=at(()=>!!(h?.componentFromFramework&&Me(h.componentClass)),[h]),B=at(()=>"ag-header-group-cell "+r.toString(),[r]),I=at(()=>"ag-header-cell-resize "+c.toString(),[c]),N=h&&h.componentFromFramework,x=h&&h.componentClass;return _e.createElement("div",{ref:b,style:s,className:B,"col-id":v,role:"columnheader","aria-expanded":m},_e.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},N&&R&&_e.createElement(x,{...h.params}),N&&!R&&_e.createElement(x,{...h.params,ref:P})),_e.createElement("div",{ref:d,"aria-hidden":l,className:I}))},en=Jr(Xr),tn=({ctrl:e})=>{const{context:t}=Pr(Y),{topOffset:s,rowHeight:n}=Ht(()=>e.getTopAndHeight(),[]),r=e.getAriaRowIndex(),i=e.headerRowClass,[c,o]=gt(()=>n+"px"),[l,a]=gt(()=>s+"px"),m=ot(null),E=ot(null),[h,u]=gt(()=>e.getHeaderCtrls()),v=ot(),C=ot(null),p=Nt(P=>{if(C.current=P,v.current=P?t.createBean(new kr):t.destroyBean(v.current),!P)return;const b={setHeight:R=>o(R),setTop:R=>a(R),setHeaderCtrls:(R,B,I)=>{E.current=m.current,m.current=R;const N=Xe(E.current,R,B);N!==E.current&&Ze(I,()=>u(N))},setWidth:R=>{C.current&&(C.current.style.width=R)}};e.setComp(b,v.current,!1)},[]),d=Ht(()=>({height:c,top:l}),[c,l]),w=Nt(P=>{switch(e.type){case"group":return nt.createElement(en,{ctrl:P,key:P.instanceId});case"filter":return nt.createElement($r,{ctrl:P,key:P.instanceId});default:return nt.createElement(Nr,{ctrl:P,key:P.instanceId})}},[]);return nt.createElement("div",{ref:p,className:i,role:"row",style:d,"aria-rowindex":r},h.map(w))},sn=Sr(tn),rn=({pinned:e})=>{const[t,s]=Tt(!0),[n,r]=Tt([]),{context:i}=Er(Y),c=Ct(null),o=Ct(null),l=Ct(),a=e==="left",m=e==="right",E=!a&&!m,h=Rr(C=>{if(c.current=C,l.current=C?i.createBean(new br(e)):i.destroyBean(l.current),!C)return;const p={setDisplayed:s,setCtrls:d=>r(d),setCenterWidth:d=>{o.current&&(o.current.style.width=d)},setViewportScrollLeft:d=>{c.current&&(c.current.scrollLeft=d)},setPinnedContainerWidth:d=>{c.current&&(c.current.style.width=d,c.current.style.minWidth=d,c.current.style.maxWidth=d)}};l.current.setComp(p,c.current)},[]),u=t?"":"ag-hidden",v=()=>n.map(C=>ye.createElement(sn,{ctrl:C,key:C.instanceId}));return ye.createElement(ye.Fragment,null,a&&ye.createElement("div",{ref:h,className:"ag-pinned-left-header "+u,"aria-hidden":!t,role:"rowgroup"},v()),m&&ye.createElement("div",{ref:h,className:"ag-pinned-right-header "+u,"aria-hidden":!t,role:"rowgroup"},v()),E&&ye.createElement("div",{ref:h,className:"ag-header-viewport "+u,role:"presentation"},ye.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},v())))},yt=wr(rn),nn=()=>{const[e,t]=Wt(()=>new ne),[s,n]=Wt(),{context:r}=yr(Y),i=Ot(null),c=Ot(),o=gr(m=>{if(i.current=m,c.current=m?r.createBean(new vr):r.destroyBean(c.current),!m)return;const E={addOrRemoveCssClass:(h,u)=>t(v=>v.setClass(h,u)),setHeightAndMinHeight:h=>n(h)};c.current.setComp(E,m,m)},[]),l=It(()=>"ag-header "+e.toString(),[e]),a=It(()=>({height:s,minHeight:s}),[s]);return rt.createElement("div",{ref:o,className:l,style:a,role:"presentation"},rt.createElement(yt,{pinned:"left"}),rt.createElement(yt,{pinned:null}),rt.createElement(yt,{pinned:"right"}))},on=Cr(nn);import{useEffect as an}from"react";var cn=(e,t)=>{an(()=>{const s=t.current;if(s){const n=s.parentElement;if(n){const r=document.createComment(e);return n.insertBefore(r,s),()=>{n.removeChild(r)}}}},[e])},Ee=cn;import Le,{memo as ln,useCallback as De,useContext as un,useMemo as ct,useRef as de,useState as _t}from"react";import{RowContainerCtrl as dn,_getRowContainerClass as pn,_getRowContainerOptions as mn,_getRowSpanContainerClass as hn,_getRowViewportClass as fn}from"ag-grid-community";import Ie,{memo as Cn,useCallback as gn,useContext as yn,useEffect as Vt,useLayoutEffect as vn,useMemo as Lt,useRef as pe,useState as me}from"react";import{CssClassManager as wn,_EmptyBean as Rn}from"ag-grid-community";import V,{memo as En,useCallback as be,useContext as bn,useLayoutEffect as vt,useMemo as wt,useRef as ce,useState as he}from"react";import{CssClassManager as Sn,_EmptyBean as Pn,_removeFromParent as kn}from"ag-grid-community";import{AgPromise as Fn}from"ag-grid-community";var Mn=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Fn(s=>{this.resolveInstanceCreated=s}),this.onValueChange=s=>this.updateValue(s),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ft(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}};import jt,{memo as xn,useContext as Bn,useState as Gn}from"react";import{createPortal as An}from"react-dom";import{_getLocaleTextFunc as Dn}from"ag-grid-community";import{useEffect as In,useRef as it,useState as On}from"react";var Wn=e=>{const t=it(e),s=it(),n=it(!1),r=it(!1),[,i]=On(0);n.current&&(r.current=!0),In(()=>(n.current||(s.current=t.current(),n.current=!0),i(c=>c+1),()=>{r.current&&s.current?.()}),[])},Tn=e=>{const[t,s]=Gn(),{context:n,popupSvc:r,localeSvc:i,gos:c,editSvc:o}=Bn(Y);return Wn(()=>{const{editDetails:l,cellCtrl:a,eParentCell:m}=e,{compDetails:E}=l,h=c.get("stopEditingWhenCellsLoseFocus"),u=n.createBean(o.createPopupEditorWrapper(E.params)),v=u.getGui();if(e.jsChildComp){const B=e.jsChildComp.getGui();B&&v.appendChild(B)}const{column:C,rowNode:p}=a,d={column:C,rowNode:p,type:"popupCellEditor",eventSource:m,ePopup:v,position:l.popupPosition,keepWithinBounds:!0},w=r?.positionPopupByComponent.bind(r,d),P=Dn(i),b=r?.addPopup({modal:h,eChild:v,closeOnEsc:!0,closedCallback:()=>{a.onPopupEditorClosed()},anchorToElement:m,positionCallback:w,ariaLabel:P("ariaLabelCellEditor","Cell Editor")}),R=b?b.hideFunc:void 0;return s(u),e.jsChildComp?.afterGuiAttached?.(),()=>{R?.(),n.destroyBean(u)}}),jt.createElement(jt.Fragment,null,t&&e.wrappedContent&&An(e.wrappedContent,t.getGui()))},zt=xn(Tn);import{useCallback as Nn,useContext as Hn,useEffect as $t}from"react";var Un=(e,t,s,n,r,i)=>{const{context:c}=Hn(Y),o=Nn(()=>{const l=r.current;if(!l)return;const a=l.getGui();a&&a.parentElement&&a.parentElement.removeChild(a),c.destroyBean(l),r.current=void 0},[]);$t(()=>{const l=e!=null,a=e?.compDetails&&!e.compDetails.componentFromFramework,m=t&&s==null;if(!(l&&a&&!m)){o();return}const h=e.compDetails;if(r.current){const v=r.current,p=v.refresh!=null&&e.force==!1?v.refresh(h.params):!1;if(p===!0||p===void 0)return;o()}h.newAgStackInstance().then(v=>{if(!v)return;const C=v.getGui();if(!C)return;(t?s:i.current).appendChild(C),r.current=v})},[e,t,n]),$t(()=>o,[])},_n=Un,Vn=(e,t,s)=>{const{compProxy:n}=e;s(n);const r=n.getProps(),i=Me(t);return V.createElement(Te.Provider,{value:{setMethods:c=>n.setMethods(c)}},i?V.createElement(t,{...r}):V.createElement(t,{...r,ref:c=>n.setRef(c)}))},Jt=(e,t,s)=>{const n=e.compProxy;return V.createElement(V.Fragment,null,n?Vn(e,t,s):V.createElement(t,{...e.compDetails.params,ref:s}))},Ln=(e,t,s,n,r)=>{const i=e.compDetails,c=i.componentClass,o=i.componentFromFramework&&!e.popup,l=i.componentFromFramework&&e.popup,a=!i.componentFromFramework&&e.popup;return V.createElement(V.Fragment,null,o&&Jt(e,c,t),l&&V.createElement(zt,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:Jt(e,c,t)}),a&&r&&V.createElement(zt,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:r}))},jn=(e,t,s,n,r,i,c)=>{const{compDetails:o,value:l}=e,a=!o,m=o&&o.componentFromFramework,E=o&&o.componentClass,h=l?.toString?l.toString():l,u=()=>V.createElement(V.Fragment,null,a&&V.createElement(V.Fragment,null,h),m&&!i&&V.createElement(E,{...o.params,key:t,ref:n}),m&&i&&V.createElement(E,{...o.params,key:t}));return V.createElement(V.Fragment,null,r?V.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:c},u()):u())},zn=({cellCtrl:e,printLayout:t,editingRow:s})=>{const{context:n}=bn(Y),{colIdSanitised:r,instanceId:i}=e,c=ce(),[o,l]=he(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[a,m]=he(),[E,h]=he(1),[u,v]=he(),[C,p]=he(!1),[d,w]=he(!1),[P,b]=he(!1),[R,B]=he(),I=wt(()=>e.isForceWrapper(),[e]),N=wt(()=>e.getCellAriaRole(),[e]),x=ce(null),g=ce(null),S=ce(null),M=ce(),y=ce(),H=ce(),F=ce([]),T=ce(),[U,f]=he(0),W=be(_=>{T.current=_,f($=>$+1)},[]),k=o!=null&&(C||P||d),D=I||k,j=be(_=>{if(y.current=_,_){const $=_.isCancelBeforeStart&&_.isCancelBeforeStart();setTimeout(()=>{$?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),A=ce();A.current||(A.current=new Sn(()=>x.current)),_n(o,D,T.current,U,M,x);const G=ce();vt(()=>{const _=G.current,$=o;if(G.current=o,_==null||_.compDetails==null||$==null||$.compDetails==null)return;const K=_.compDetails,ee=$.compDetails;if(K.componentClass!=ee.componentClass||S.current?.refresh==null)return;S.current.refresh(ee.params)!=!0&&h(q=>q+1)},[o]),vt(()=>{if(!(a&&!a.compDetails.componentFromFramework))return;const $=a.compDetails,K=a.popup===!0,ee=$.newAgStackInstance();return ee.then(O=>{if(!O)return;const q=O.getGui();j(O),K||((I?H:x).current?.appendChild(q),O.afterGuiAttached&&O.afterGuiAttached()),B(O)}),()=>{ee.then(O=>{const q=O.getGui();n.destroyBean(O),j(void 0),B(void 0),q?.parentElement?.removeChild(q)})}},[a]);const J=be(_=>{if(H.current=_,!_){F.current.forEach(K=>K()),F.current=[];return}const $=K=>{if(K){const ee=K.getGui();_.insertAdjacentElement("afterbegin",ee),F.current.push(()=>{n.destroyBean(K),kn(ee)})}return K};if(C){const K=e.createSelectionCheckbox();$(K)}P&&$(e.createDndSource()),d&&$(e.createRowDragComp())},[e,n,P,d,C]),z=be(()=>{const _=!e.isCellSpanning()||g.current,$=x.current;if(c.current=$?n.createBean(new Pn):n.destroyBean(c.current),!$||!_||!e)return;const K={addOrRemoveCssClass:(O,q)=>A.current.addOrRemoveCssClass(O,q),setUserStyles:O=>v(O),getFocusableElement:()=>x.current,setIncludeSelection:O=>p(O),setIncludeRowDrag:O=>w(O),setIncludeDndSource:O=>b(O),getCellEditor:()=>y.current||null,getCellRenderer:()=>S.current??M.current,getParentOfValue:()=>T.current??H.current??x.current,setRenderDetails:(O,q,fe)=>{l(te=>te?.compDetails!==O||te?.value!==q||te?.force!==fe?{value:q,compDetails:O,force:fe}:te)},setEditDetails:(O,q,fe,te)=>{if(O){let Q;te?Q=new Mn(O.params,()=>h(Pe=>Pe+1)):O.componentFromFramework&&et(),m({compDetails:O,popup:q,popupPosition:fe,compProxy:Q}),q||l(void 0)}else m(Q=>{Q?.compProxy&&(y.current=void 0)})}},ee=H.current||void 0;e.setComp(K,$,g.current??void 0,ee,t,s,c.current)},[]),le=be(_=>{x.current=_,z()},[]),Se=be(_=>{g.current=_,z()},[]),lt=wt(()=>!!(o?.compDetails?.componentFromFramework&&Me(o.compDetails.componentClass)),[o]);vt(()=>{x.current&&(A.current.addOrRemoveCssClass("ag-cell-value",!D),A.current.addOrRemoveCssClass("ag-cell-inline-editing",!!a&&!a.popup),A.current.addOrRemoveCssClass("ag-cell-popup-editing",!!a&&!!a.popup),A.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!a||!!a.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&x.current.focus({preventScroll:!0}))});const ze=()=>V.createElement(V.Fragment,null,o!=null&&jn(o,E,i,S,D,lt,W),a!=null&&Ln(a,j,x.current,e,R)),ut=be(()=>e.onFocusOut(),[]),$e=()=>V.createElement("div",{ref:le,style:u,role:N,"col-id":r,onBlur:ut},D?V.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:J},ze()):ze());return e.isCellSpanning()?V.createElement("div",{ref:Se,className:"ag-spanned-cell-wrapper",role:"presentation"},$e()):$e()},$n=En(zn),Jn=({rowCtrl:e,containerType:t})=>{const{context:s,gos:n}=yn(Y),r=pe(),i=pe(e.getDomOrder()),c=e.isFullWidth(),o=e.rowNode.displayed,[l,a]=me(()=>o?e.rowNode.getRowIndexString():null),[m,E]=me(()=>e.rowId),[h,u]=me(()=>e.businessKey),[v,C]=me(()=>e.rowStyles),p=pe(null),d=pe(null),[w,P]=me(()=>null),[b,R]=me(),[B,I]=me(()=>o?e.getInitialRowTop(t):void 0),[N,x]=me(()=>o?e.getInitialTransform(t):void 0),g=pe(null),S=pe(),M=pe(!1),[y,H]=me(0);Vt(()=>{if(M.current||!b||y>10)return;const G=g.current?.firstChild;G?(e.setupDetailRowAutoHeight(G),M.current=!0):H(J=>J+1)},[b,y]);const F=pe();F.current||(F.current=new wn(()=>g.current));const T=gn(G=>{if(g.current=G,r.current=G?s.createBean(new Rn):s.destroyBean(r.current),!G){e.unsetComp(t);return}if(!e.isAlive())return;const J={setTop:I,setTransform:x,addOrRemoveCssClass:(z,le)=>F.current.addOrRemoveCssClass(z,le),setDomOrder:z=>i.current=z,setRowIndex:a,setRowId:E,setRowBusinessKey:u,setUserStyles:C,setCellCtrls:(z,le)=>{d.current=p.current,p.current=z;const Se=Xe(d.current,z,i.current);Se!==d.current&&Ze(le,()=>P(Se))},showFullWidth:z=>R(z),getFullWidthCellRenderer:()=>S.current,refreshFullWidth:z=>D.current?(R(le=>({...le,params:z()})),!0):!S.current||!S.current.refresh?!1:S.current.refresh(z())};e.setComp(J,G,t,r.current)},[]);vn(()=>We(b,s,g.current,S),[b]);const U=Lt(()=>{const G={top:B,transform:N};return Object.assign(G,v),G},[B,N,v]),f=c&&b?.componentFromFramework,W=!c&&w!=null,k=Lt(()=>!!(b?.componentFromFramework&&Me(b.componentClass)),[b]),D=pe(!1);Vt(()=>{D.current=k&&!!b&&!!n.get("reactiveCustomComponents")},[k,b]);const j=()=>w?.map(G=>Ie.createElement($n,{cellCtrl:G,editingRow:e.editing,printLayout:e.printLayout,key:G.instanceId})),A=()=>{const G=b.componentClass;return Ie.createElement(Ie.Fragment,null,k?Ie.createElement(G,{...b.params}):Ie.createElement(G,{...b.params,ref:S}))};return Ie.createElement("div",{ref:T,role:"row",style:U,"row-index":l,"row-id":m,"row-business-key":h},W&&j(),f&&A())},Kt=Cn(Jn),Kn=({name:e})=>{const{context:t,gos:s}=un(Y),n=ct(()=>mn(e),[e]),r=de(null),i=de(null),c=de(null),o=de([]),l=de([]),[a,m]=_t(()=>[]),E=!!s.get("enableCellSpan")&&!!n.getSpannedRowCtrls,h=de([]),u=de([]),[v,C]=_t(()=>[]),p=de(!1),d=de(),w=ct(()=>re("ag-viewport",fn(e)),[e]),P=ct(()=>re(pn(e)),[e]),b=ct(()=>re("ag-spanning-container",hn(e)),[e]),R=n.type==="center"||E,B=R?r:i;Ee(" AG Row Container "+e+" ",B);const I=De(()=>{const F=!R||r.current!=null,T=i.current!=null,U=!E||c.current!=null;return F&&T&&U},[]),N=De(()=>r.current==null&&i.current==null&&c.current==null,[]),x=De(()=>{if(N()&&(d.current=t.destroyBean(d.current)),I()){const F=f=>{const W=Xe(l.current,o.current,p.current);W!==l.current&&(l.current=W,Ze(f,()=>m(W)))},T=f=>{const W=Xe(u.current,h.current,p.current);W!==u.current&&(u.current=W,Ze(f,()=>C(W)))},U={setHorizontalScroll:f=>{r.current&&(r.current.scrollLeft=f)},setViewportHeight:f=>{r.current&&(r.current.style.height=f)},setRowCtrls:({rowCtrls:f,useFlushSync:W})=>{const k=!!W&&o.current.length>0&&f.length>0;o.current=f,F(k)},setSpannedRowCtrls:(f,W)=>{const k=!!W&&h.current.length>0&&f.length>0;h.current=f,T(k)},setDomOrder:f=>{p.current!=f&&(p.current=f,F(!1))},setContainerWidth:f=>{i.current&&(i.current.style.width=f)},setOffsetTop:f=>{i.current&&(i.current.style.transform=`translateY(${f})`)}};d.current=t.createBean(new dn(e)),d.current.setComp(U,i.current,c.current??void 0,r.current)}},[I,N]),g=De(F=>{i.current=F,x()},[x]),S=De(F=>{c.current=F,x()},[x]),M=De(F=>{r.current=F,x()},[x]),y=()=>Le.createElement("div",{className:P,ref:g,role:"rowgroup"},a.map(F=>Le.createElement(Kt,{rowCtrl:F,containerType:n.type,key:F.instanceId})));if(!R)return y();const H=()=>E&&Le.createElement("div",{className:b,ref:S,role:"rowgroup"},v.map(F=>Le.createElement(Kt,{rowCtrl:F,containerType:n.type,key:F.instanceId})));return Le.createElement("div",{className:w,ref:M,role:"presentation"},y(),H())},qn=ln(Kn),Qn=()=>{const e=ir(Y),{context:t,overlays:s}=e,[n,r]=Z(""),[i,c]=Z(0),[o,l]=Z(0),[a,m]=Z("0px"),[E,h]=Z("0px"),[u,v]=Z("100%"),[C,p]=Z("0px"),[d,w]=Z("0px"),[P,b]=Z("100%"),[R,B]=Z(""),[I,N]=Z(""),[x,g]=Z(null),[S,M]=Z(""),[y,H]=Z(null),[F,T]=Z("ag-layout-normal"),U=ie();U.current||(U.current=new lr(()=>f.current));const f=ie(null),W=ie(null),k=ie(null),D=ie(null),j=ie(null),A=ie(null),G=ie(null),J=ie([]),z=ie([]);Ee(" AG Grid Body ",f),Ee(" AG Pinned Top ",W),Ee(" AG Sticky Top ",k),Ee(" AG Middle ",A),Ee(" AG Pinned Bottom ",G);const le=cr(Q=>{if(f.current=Q,!Q){J.current=t.destroyBeans(J.current),z.current.forEach(L=>L()),z.current=[];return}if(!t)return;const Pe=(L,X)=>{L.appendChild(X),z.current.push(()=>L.removeChild(X))},dt=L=>{const X=t.createBean(new L);return J.current.push(X),X},Oe=(L,X,Xt)=>{Pe(L,document.createComment(Xt)),Pe(L,dt(X).getGui())};Oe(Q,ur," AG Fake Horizontal Scroll ");const Pt=s?.getOverlayWrapperCompClass();Pt&&Oe(Q,Pt," AG Overlay Wrapper "),j.current&&Oe(j.current,dr," AG Fake Vertical Scroll ");const Zt={setRowAnimationCssOnBodyViewport:r,setColumnCount:L=>{f.current&&hr(f.current,L)},setRowCount:L=>{f.current&&fr(f.current,L)},setTopHeight:c,setBottomHeight:l,setStickyTopHeight:m,setStickyTopTop:h,setStickyTopWidth:v,setTopDisplay:B,setBottomDisplay:N,setColumnMovingCss:(L,X)=>U.current.addOrRemoveCssClass(L,X),updateLayoutClasses:T,setAlwaysVerticalScrollClass:g,setPinnedTopBottomOverflowY:M,setCellSelectableCss:(L,X)=>H(X?L:null),setBodyViewportWidth:L=>{A.current&&(A.current.style.width=L)},registerBodyViewportResizeListener:L=>{if(A.current){const X=mr(e,A.current,L);z.current.push(()=>X())}},setStickyBottomHeight:p,setStickyBottomBottom:w,setStickyBottomWidth:b,setGridRootRole:L=>Q.setAttribute("role",L)},kt=t.createBean(new pr);J.current.push(kt),kt.setComp(Zt,Q,A.current,W.current,G.current,k.current,D.current)},[]),Se=ae(()=>re("ag-root","ag-unselectable",F),[F]),lt=ae(()=>re("ag-body-viewport",n,F,x,y),[n,F,x,y]),ze=ae(()=>re("ag-body",F),[F]),ut=ae(()=>re("ag-floating-top",y),[y]),$e=ae(()=>re("ag-sticky-top",y),[y]),_=ae(()=>re("ag-sticky-bottom",C==="0px"?"ag-hidden":null,y),[y,C]),$=ae(()=>re("ag-floating-bottom",y),[y]),K=ae(()=>({height:i,minHeight:i,display:R,overflowY:S}),[i,R,S]),ee=ae(()=>({height:a,top:E,width:u}),[a,E,u]),O=ae(()=>({height:C,bottom:d,width:P}),[C,d,P]),q=ae(()=>({height:o,minHeight:o,display:I,overflowY:S}),[o,I,S]),fe=Q=>He.createElement(qn,{name:Q,key:`${Q}-container`}),te=({section:Q,children:Pe,className:dt,style:Oe})=>He.createElement("div",{ref:Q,className:dt,role:"presentation",style:Oe},Pe.map(fe));return He.createElement("div",{ref:le,className:Se},He.createElement(on,null),te({section:W,className:ut,style:K,children:["topLeft","topCenter","topRight","topFullWidth"]}),He.createElement("div",{className:ze,ref:j,role:"presentation"},te({section:A,className:lt,children:["left","center","right","fullWidth"]})),te({section:k,className:$e,style:ee,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),te({section:D,className:_,style:O,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),te({section:G,className:$,style:q,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Yn=ar(Qn);import Rt,{forwardRef as Zn,memo as Xn,useCallback as Et,useContext as eo,useImperativeHandle as to,useRef as bt}from"react";import{TabGuardClassNames as St,TabGuardCtrl as so}from"ag-grid-community";var ro=(e,t)=>{const{children:s,eFocusableElement:n,onTabKeyDown:r,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:c,isEmpty:o}=e,{context:l}=eo(Y),a=bt(null),m=bt(null),E=bt(),h=d=>{const w=d==null?void 0:parseInt(d,10).toString();[a,m].forEach(P=>{w===void 0?P.current?.removeAttribute("tabindex"):P.current?.setAttribute("tabindex",w)})};to(t,()=>({forceFocusOutOfContainer(d){E.current?.forceFocusOutOfContainer(d)}}));const u=Et(()=>{const d=a.current,w=m.current;if(!d&&!w){E.current=l.destroyBean(E.current);return}if(d&&w){const P={setTabIndex:h};E.current=l.createBean(new so({comp:P,eTopGuard:d,eBottomGuard:w,eFocusableElement:n,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:b=>i.focusInnerElement(b),isEmpty:o}))}},[]),v=Et(d=>{a.current=d,u()},[u]),C=Et(d=>{m.current=d,u()},[u]),p=d=>{const w=d==="top"?St.TAB_GUARD_TOP:St.TAB_GUARD_BOTTOM;return Rt.createElement("div",{className:`${St.TAB_GUARD} ${w}`,role:"presentation",ref:d==="top"?v:C})};return Rt.createElement(Rt.Fragment,null,p("top"),s,p("bottom"))},no=Zn(ro),oo=Xn(no),ao=({context:e})=>{const[t,s]=ge(""),[n,r]=ge(""),[i,c]=ge(null),[o,l]=ge(null),[a,m]=ge(!1),[E,h]=ge(),u=xe(),v=xe(null),C=xe(),[p,d]=ge(null),w=xe(()=>{}),P=xe(),b=xe([]),R=tt(()=>{},[]),B=st(()=>e.isDestroyed()?null:e.getBeans(),[e]);Ee(" AG Grid ",v);const I=tt(y=>{if(v.current=y,u.current=y?e.createBean(new or):e.destroyBean(u.current),!y||e.isDestroyed())return;const H=u.current;w.current=H.focusInnerElement.bind(H);const F={destroyGridUi:()=>{},setRtlClass:s,forceFocusOutOfContainer:T=>{if(!T&&P.current?.isDisplayed()){P.current.forceFocusOutOfContainer(T);return}C.current?.forceFocusOutOfContainer(T)},updateLayoutClasses:r,getFocusableContainers:()=>{const T=[],U=v.current?.querySelector(".ag-root");return U&&T.push({getGui:()=>U}),b.current.forEach(f=>{f.isDisplayed()&&T.push(f)}),T},setCursor:c,setUserSelect:l};H.setComp(F,y,y),m(!0)},[]);nr(()=>{const y=u.current,H=v.current;if(!E||!B||!y||!p||!H)return;const F=[],{watermarkSelector:T,paginationSelector:U,sideBarSelector:f,statusBarSelector:W,gridHeaderDropZonesSelector:k}=y.getOptionalSelectors(),D=[];if(k){const A=e.createBean(new k.component),G=A.getGui();H.insertAdjacentElement("afterbegin",G),D.push(G),F.push(A)}if(f){const A=e.createBean(new f.component),G=A.getGui(),J=p.querySelector(".ag-tab-guard-bottom");J&&(J.insertAdjacentElement("beforebegin",G),D.push(G)),F.push(A),b.current.push(A)}const j=A=>{const G=e.createBean(new A),J=G.getGui();return H.insertAdjacentElement("beforeend",J),D.push(J),F.push(G),G};if(W&&j(W.component),U){const A=j(U.component);P.current=A,b.current.push(A)}return T&&j(T.component),()=>{e.destroyBeans(F),D.forEach(A=>{A.parentElement?.removeChild(A)})}},[E,p,B]);const N=st(()=>re("ag-root-wrapper",t,n),[t,n]),x=st(()=>re("ag-root-wrapper-body","ag-focus-managed",n),[n]),g=st(()=>({userSelect:o??"",WebkitUserSelect:o??"",cursor:i??""}),[o,i]),S=tt(y=>{C.current=y,h(y!==null)},[]),M=tt(()=>!u.current?.isFocusable(),[]);return Ne.createElement("div",{ref:I,className:N,style:g,role:"presentation"},Ne.createElement("div",{className:x,ref:d,role:"presentation"},a&&p&&B&&Ne.createElement(Y.Provider,{value:B},Ne.createElement(oo,{ref:S,eFocusableElement:p,onTabKeyDown:R,gridCtrl:u.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:M},Ne.createElement(Yn,null)))))},co=rr(ao);import{BeanStub as io}from"ag-grid-community";var lo=class extends io{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},uo={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},qt=new Set(Object.keys(uo)),Qt=e=>{const t=se(),s=se(null),n=se(null),r=se([]),i=se([]),c=se(e),o=se(),l=se(),a=se(!1),[m,E]=ke(void 0),[,h]=ke(0),u=Ke(p=>{if(s.current=p,!p){r.current.forEach(g=>g()),r.current.length=0;return}const d=e.modules||[];n.current||(n.current=new sr(()=>h(g=>g+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{n.current?.destroy(),n.current=null}));const w=ls(e.gridOptions,e,Object.keys(e).filter(g=>!qt.has(g))),P=()=>{if(a.current){const g=()=>o.current?.shouldQueueUpdates()?void 0:i.current.shift();let S=g();for(;S;)S(),S=g()}},b=new fo(P);o.current=b;const R=new lo,B={providedBeanInstances:{frameworkCompWrapper:new mo(n.current,w.reactiveCustomComponents??us("reactiveCustomComponents")??!0),renderStatus:R},modules:d,frameworkOverrides:b,setThemeOnGridDiv:!0},I=g=>{E(g),g.createBean(R),r.current.push(()=>{g.destroy()}),g.getBean("ctrlsSvc").whenReady({addDestroyFunc:S=>{r.current.push(S)}},()=>{if(g.isDestroyed())return;const S=t.current;S&&e.setGridApi?.(S)})},N=g=>{g.getBean("ctrlsSvc").whenReady({addDestroyFunc:S=>{r.current.push(S)}},()=>{i.current.forEach(S=>S()),i.current.length=0,a.current=!0})},x=new cs;w.gridId??(w.gridId=l.current),t.current=x.create(p,w,I,N,B),r.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),v=qe(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),C=Ke(p=>{a.current&&!o.current?.shouldQueueUpdates()?p():i.current.push(p)},[]);return ns(()=>{const p=po(c.current,e);c.current=e,C(()=>{t.current&&fs(p,t.current)})},[e]),Je.createElement("div",{style:v,className:e.className,ref:u},m&&!m.isDestroyed()?Je.createElement(co,{context:m}):null,n.current?.getPortals()??null)};function po(e,t){const s={};return Object.keys(t).forEach(n=>{if(qt.has(n))return;const r=t[n];e[n]!==r&&(s[n]=r)}),s}var mo=class extends as{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(i=>{switch(i){case"filter":return Vs;case"floatingFilterComponent":return zs;case"dateComponent":return Hs;case"dragAndDropImageComponent":return Us;case"loadingOverlayComponent":return Js;case"noRowsOverlayComponent":return qs;case"statusPanel":return Qs;case"toolPanel":return Ys;case"menuItem":return Ks;case"cellRenderer":return Ns;case"innerHeaderComponent":return $s}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":et();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new At(e,this.parent,t,s)}},ho=ss((e,t)=>{const s=rs(Y),{registry:n,context:r,gos:i,rowModel:c}=s,[o,l]=ke(()=>new ne),[a,m]=ke(()=>new ne),[E,h]=ke(),[u,v]=ke(),C=se(),p=se(null),d=se(),w=qe(()=>ds(e.api.getGridId(),E?.rowModelType??"clientSide"),[e]),P=qe(()=>o.toString()+" ag-details-row",[o]),b=qe(()=>a.toString()+" ag-details-grid",[a]);t&&os(t,()=>({refresh(){return C.current?.refresh()??!1}})),e.template&&Cs(230);const R=Ke(I=>{if(p.current=I,!I){C.current=r.destroyBean(C.current),d.current?.();return}const N={addOrRemoveCssClass:(g,S)=>l(M=>M.setClass(g,S)),addOrRemoveDetailGridCssClass:(g,S)=>m(M=>M.setClass(g,S)),setDetailGrid:g=>h(g),setRowData:g=>v(g),getGui:()=>p.current},x=n.createDynamicBean("detailCellRendererCtrl",!0);if(x&&(r.createBean(x),x.init(N,e),C.current=x,i.get("detailRowAutoHeight"))){const g=()=>{if(p.current==null)return;const S=p.current.clientHeight;S!=null&&S>0&&setTimeout(()=>{e.node.setRowHeight(S),(ps(i,c)||ms(i,c))&&c.onRowHeightChanged()},0)};d.current=hs(s,I,g),g()}},[]),B=Ke(I=>{C.current?.registerDetailWithMaster(I)},[]);return Je.createElement("div",{className:P,ref:R},E&&Je.createElement(Qt,{className:b,...E,modules:w,rowData:u,setGridApi:B}))}),fo=class extends is{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:xt,agGroupRowRenderer:xt,agDetailCellRenderer:ho},this.wrapIncoming=(t,s)=>s==="ensureVisible"?Ms(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Fs()}},Co=class extends ts{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return es.createElement(Qt,{...this.props,setGridApi:this.setGridApi})}};import{useContext as go}from"react";function je(e){const{setMethods:t}=go(Te);t(e)}function yo(e){je(e)}function vo(e){return je(e)}function wo(e){return je(e)}function Ro(e){je(e)}function Eo(e){je(e)}export{Co as AgGridReact,Te as CustomComponentContext,er as getInstance,yo as useGridCellEditor,vo as useGridDate,wo as useGridFilter,Ro as useGridFloatingFilter,Eo as useGridMenuItem,et as warnReactiveCustomComponents};
